.blocks-gallery-grid,
.wp-block-gallery {
	.blocks-gallery-image,
	.blocks-gallery-item {
		width: calc((100% - #{$gridGutter}) / 2);
		margin: 0 $gridGutter $gridGutter 0;
	}
	@include up($medium) {
		&.columns-3 {
			.blocks-gallery-image,
			.blocks-gallery-item {
				width: calc((100% - calc(#{$gridGutter} * 2)) / 3);
				@supports (-ms-ime-align: auto) {
					width: calc((100% - calc(#{$gridGutter} * 2)) / 3 - 1px);
				}
				margin-right: $gridGutter;
			}
		}
		&.columns-4 {
			.blocks-gallery-image,
			.blocks-gallery-item {
				width: calc((100% - calc(#{$gridGutter} * 3)) / 4);
				@supports (-ms-ime-align: auto) {
					width: calc((100% - calc(#{$gridGutter} * 3)) / 4 - 1px);
				}
				margin-right: $gridGutter;
			}
		}
		&.columns-5 {
			.blocks-gallery-image,
			.blocks-gallery-item {
				width: calc((100% - calc(#{$gridGutter} * 4)) / 5);
				@supports (-ms-ime-align: auto) {
					width: calc((100% - calc(#{$gridGutter} * 4)) / 5 - 1px);
				}
				margin-right: $gridGutter;
			}
		}
		&.columns-6 {
			.blocks-gallery-image,
			.blocks-gallery-item {
				width: calc((100% - calc(#{$gridGutter} * 5)) / 6);
				@supports (-ms-ime-align: auto) {
					width: calc((100% - calc(#{$gridGutter} * 5)) / 6 - 1px);
				}
				margin-right: $gridGutter;
			}
		}
		&.columns-7 {
			.blocks-gallery-image,
			.blocks-gallery-item {
				width: calc((100% - calc(#{$gridGutter} * 6)) / 7);
				@supports (-ms-ime-align: auto) {
					width: calc((100% - calc(#{$gridGutter} * 6)) / 7 - 1px);
				}
				margin-right: $gridGutter;
			}
		}
		&.columns-8 {
			.blocks-gallery-image,
			.blocks-gallery-item {
				width: calc((100% - calc(#{$gridGutter} * 7)) / 8);
				@supports (-ms-ime-align: auto) {
					width: calc((100% - calc(#{$gridGutter} * 7)) / 8 - 1px);
				}
				margin-right: $gridGutter;
			}
		}

		&.columns-1 .blocks-gallery-image:nth-of-type(1n),
		&.columns-1 .blocks-gallery-item:nth-of-type(1n),
		&.columns-2 .blocks-gallery-image:nth-of-type(2n),
		&.columns-2 .blocks-gallery-item:nth-of-type(2n),
		&.columns-3 .blocks-gallery-image:nth-of-type(3n),
		&.columns-3 .blocks-gallery-item:nth-of-type(3n),
		&.columns-4 .blocks-gallery-image:nth-of-type(4n),
		&.columns-4 .blocks-gallery-item:nth-of-type(4n),
		&.columns-5 .blocks-gallery-image:nth-of-type(5n),
		&.columns-5 .blocks-gallery-item:nth-of-type(5n),
		&.columns-6 .blocks-gallery-image:nth-of-type(6n),
		&.columns-6 .blocks-gallery-item:nth-of-type(6n),
		&.columns-7 .blocks-gallery-image:nth-of-type(7n),
		&.columns-7 .blocks-gallery-item:nth-of-type(7n),
		&.columns-8 .blocks-gallery-image:nth-of-type(8n),
		&.columns-8 .blocks-gallery-item:nth-of-type(8n) {
			margin-right: 0;
		}
	}
}
